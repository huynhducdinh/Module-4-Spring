<html xmlns:th="http://www.thymeleaf.org">
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<!--      xmlns:sweetalert2="http://www.thymeleaf.org/extras/sweet-alert2">-->
<head>
    <title>Blog</title>
    <link rel="stylesheet" href="bootstrap520/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="datatables/css/dataTables.bootstrap5.min.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
            href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
            rel="stylesheet"
    />
    <!-- MDB -->
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.css"
            rel="stylesheet"
    />

    <!--    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
          rel="stylesheet"/>
    <script src="//code.jquery.com/jquery-2.1.1.js"></script>

    <link rel="stylesheet" type="text/css"
          href="https://cdn.jsdelivr.net/npm/sweetalert2@10.15.5/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10.15.5/dist/sweetalert2.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
</head>
<body>
<a th:href="@{listBorrow}">
    <button class="btn btn btn-success" style="border: 1px solid #DDDDDD;">
        Borrow Book
    </button>
</a>
<h1 style="text-align: center;color: red">Book</h1>
<div style="margin: 0 auto;height: auto;width: 80%">
    <table class="table table-striped table-hover" style="border: 1px solid #CCCCCC">
        <tr>
            <td style="font-size: 20px;color: black">ID</td>
            <td style="font-size: 20px;color: black">Tên sách</td>
            <td style="font-size: 20px;color: black">Số lượng</td>
            <td colspan="3" style="font-size: 20px;color: black">Function</td>

        </tr>
        <tr th:each="book : ${bookList}">
            <th th:text="${book.id}"></th>
            <th th:text="${book.name}"></th>
            <th th:text="${book.quantity}"></th>
            <th>
<!--                <a th:href="@{/borrow/{id}(id=${book.id})}">-->
<!--                    <button class="btn btn-warning">Update</button>-->
                <button class=" btn-del btn btn-primary"
                        th:attr="onclick=|borrow('${book.id}','${book.name}')|">Mượn Sách
                </button>
<!--                </a>-->
            </th>
        </tr>
    </table>
    <h3 th:text="${mess}" style="color: #4cae4c"></h3>
</div>

<script>

</script>
<script th:inline="javascript">

    function borrow(id, name) {
        swal({
            title: "Thư Viện Sách",
            text: "Bạn có muốn mượn sách có tên " + " " + name + "" + "",
            icon: "warning",
            buttons: true,
            dangerMode: true,

        })
            .then((result) => {
                if (result) {
                    window.location = '/borrow/' + id
                } else {
                    swal("Thank you for not deleting")
                }
            });
    }
    //     Swal.fire({
    //         text: 'Would you like to see the details of this title: ' + name + "",
    //         icon: 'question',
    //
    //         cancelButtonColor: '#CCCCCC',
    //         confirmButtonColor: '#3366FF',
    //         confirmButtonText: 'Oke'
    //     }).then((result) => {
    //         if (result) {
    //             Swal(
    //                 window.location.href = '/borrow/'+id
    //             )
    //         }
    //     })
    // }

    // async function detail(id, titles) {
    //     Swal.fire({
    //         text: 'Would you like to see the details of this title: ' + titles + "",
    //         icon: 'question',
    //         showCancelButton: true,
    //         cancelButtonColor: '#CCCCCC',
    //         confirmButtonColor: '#3366FF',
    //         confirmButtonText: 'May I try it out ?'
    //     }).then((result) => {
    //         if (result.isConfirmed) {
    //             Swal.fire(
    //                 window.location.href = '/detail/' + id
    //             )
    //         }
    //     })
    // }

</script>
<!-- MDB -->
<script
        type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.js"
></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
<script src="https://kit.fontawesome.com/yourcode.js"></script>
<script src="jquery-3.4.1.min.js"></script>
<script src="sweetalert2.all.min.js"></script>
<script th:inline="javascript">

    <!--    thêm mới-->
    function createBlog(codename) {
        Swal.fire({
            icon: 'success',
            title: 'Successfully',
            text: 'Successfully added new!',
            confirmButtonText: 'Oke',
            timer: 2000,
        });
    }


    function createBlog1() {
        Swal.fire({
            icon: 'error',
            title: 'Failure',
            text: 'Add new failure!',
            confirmButtonText: 'Oke',
            timer: 2000,
        });
    }

    // xoá
    function deleteCategory1() {
        swal({
            title: "Delete Successfully!",
            icon: "success",
            button: "Oke",
            timer: 2000,
        });
    }

    // chỉnh sửa
    function updateCategory() {
        Swal.fire({
            icon: 'success',
            title: 'Successfully',
            text: 'Successful editing!',
            confirmButtonText: 'Oke',
            timer: 2000,
        });
    }

    function updateCategory1() {
        Swal.fire({
            icon: 'error',
            title: 'Failure',
            text: 'Edit failed!',
            confirmButtonText: 'Oke',
            timer: 2000,
        });
    }
</script>
<script th:inline="javascript">
    // let createCategory = /*[[${mess}]]*/ true;
    let deleteCategory =/*[[${check}]]*/ true;
    let update =/*[[${flag}]]*/ true;
    // thêm mới
    if (createCategory != null) {
        if (createCategory) {
            createBlog();
        } else {
            createBlog1();
        }
    }
    // xoá
    if (deleteCategory) {
        deleteCategory1();
    }
    // update
    if (update != null) {
        if (update) {
            updateCategory();
        } else {
            updateCategory1();
        }
    }

</script>
</body>
</html>




